(function(t){function e(e){for(var s,o,r=e[0],l=e[1],c=e[2],p=0,_=[];p<r.length;p++)o=r[p],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&_.push(i[o][0]),i[o]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);u&&u(e);while(_.length)_.shift()();return a.push.apply(a,c||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],s=!0,r=1;r<n.length;r++){var l=n[r];0!==i[l]&&(s=!1)}s&&(a.splice(e--,1),t=o(o.s=n[0]))}return t}var s={},i={app:0},a=[];function o(e){if(s[e])return s[e].exports;var n=s[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=s,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)o.d(n,s,function(e){return t[e]}.bind(null,s));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=e,r=r.slice();for(var c=0;c<r.length;c++)e(r[c]);var u=l;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";n("85ec")},"09c2":function(t,e,n){},"16b0":function(t,e,n){},1861:function(t,e){},"1db7":function(t,e,n){"use strict";n("c9d0")},"2b8d":function(t,e,n){"use strict";n("c24b")},"300c":function(t,e,n){"use strict";n("b939")},"31b8":function(t,e,n){},"3a48":function(t,e,n){"use strict";n("a9bc")},4851:function(t,e,n){"use strict";n("b8b5")},"4a23":function(t,e,n){},"4fa0":function(t,e,n){"use strict";n("c61f")},"540a":function(t,e,n){"use strict";n("09c2")},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("e792"),n("0cdd");var s=n("2b0e"),i=n("e37d"),a=(n("096e"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("div",{staticClass:"c-outer"},[n("banner"),n("input",{directives:[{name:"show",rawName:"v-show",value:t.develop,expression:"develop"},{name:"model",rawName:"v-model",value:t.if_debug,expression:"if_debug"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.if_debug)?t._i(t.if_debug,null)>-1:t.if_debug},on:{change:function(e){var n=t.if_debug,s=e.target,i=!!s.checked;if(Array.isArray(n)){var a=null,o=t._i(n,a);s.checked?o<0&&(t.if_debug=n.concat([a])):o>-1&&(t.if_debug=n.slice(0,o).concat(n.slice(o+1)))}else t.if_debug=i}}}),n("div",{directives:[{name:"show",rawName:"v-show",value:t.if_debug,expression:"if_debug"}]},t._l(t.debug_list,(function(e,s){return n("div",{key:e+s},[t._v(t._s(e))])})),0),n("main-song-list",{ref:"main"}),n("audio-player",{ref:"player"}),n("countdown"),n("copy-call-code"),n("import-song-list"),n("v-footer"),t.show_info?n("pop-up-info",{on:{closepopup:function(e){t.show_info=!1}}}):t._e()],1)])}),o=[],r=(n("d3b7"),n("3ca3"),n("ddb0"),n("2b3d"),n("9861"),n("c740"),n("d81d"),n("7db0"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"c-main"},[n("song-filter",{attrs:{song_list_filtered:t.song_list_filtered},on:{"update:song_list_filtered":[function(e){t.song_list_filtered=e},function(e){t.page=1}]}}),n("div",{staticClass:"c-controler"},[n("button",{staticClass:"general-button controler-item controler-item-all",on:{click:t.all_song_to_playlist}},[t._v("全部筛选结果加入播放列表")])]),n("div",{staticClass:"c-song-list"},[n("div",{ref:"header",staticClass:"song-list-header"},[n("div",{staticClass:"header-column all-column all-column-idx"}),n("div",{staticClass:"header-column header-column-op all-column all-column-op"},[t._v("操作")]),t._m(0),n("div",{staticClass:"header-column header-column-details all-column all-column-details",on:{click:t.expend_all}},[t._v("展开")])]),t._l(t.song_list,(function(e,s){return n("div",{key:e.id,class:["song-list-item",{"dark-bg":s%2===1},{"light-bg":s%2===0}]},[n("div",{staticClass:"song-list-item-main"},[n("div",{staticClass:"item-column-idx all-column all-column-idx"},[t._v(t._s(s+1+(t.page-1)*t.per_page))]),n("div",{staticClass:"item-column-op all-column all-column-op"},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.have_audio,expression:"song.have_audio"}],staticClass:"item-op-download item-op-all",attrs:{title:"下载歌曲"}},[n("a",{attrs:{href:e.src,download:""}},[n("div")])]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.have_audio&&!t.in_playlist_list[s],expression:"song.have_audio && !in_playlist_list[idx]"}],staticClass:"item-op-add item-op-all",attrs:{title:"加入播放列表"},on:{click:function(e){return e.stopPropagation(),t.add_song(s)}}},[n("div")]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.have_audio&&t.in_playlist_list[s],expression:"song.have_audio && in_playlist_list[idx]"}],staticClass:"item-op-added item-op-all",attrs:{title:"已在播放列表"},on:{click:function(e){return e.stopPropagation(),t.remove_song(s)}}},[n("div")]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.have_audio,expression:"song.have_audio"}],staticClass:"item-op-star item-op-all",attrs:{title:"星标歌曲"},on:{click:function(e){return e.stopPropagation(),t.love_song(s)}}},[n("div",{class:[{"item-op-star-true":t.is_loved[s]},{"item-op-star-false":!t.is_loved[s]}]})]),n("div",{directives:[{name:"show",rawName:"v-show",value:!e.have_audio,expression:"!song.have_audio"}],staticClass:"item-op-none"},[t._v(t._s(e.days_before_available>0?e.days_before_available+"天后可听":"暂无音频"))])]),n("div",{staticClass:"all-column-info item-column-info",on:{click:function(e){return t.add_song(s,!0)}}},[n("div",{staticClass:"song-name all-column all-column-name"},[t._v(t._s(e.name))]),n("div",{staticClass:"song-info-artist"},[n("div",{staticClass:"song-artist all-column all-column-artist"},[t._v(t._s(e.artist))]),n("div",{staticClass:"song-status all-column all-column-status"},[t._v(t._s(e.status))])]),n("div",{staticClass:"song-info-date"},[n("div",{staticClass:"song-date all-column all-column-date"},[t._v(t._s(e.date))]),n("div",{staticClass:"song-duration all-column all-column-duration"},[t._v(t._s(e.duration))])])]),n("div",{staticClass:"item-column-details all-column all-column-details",on:{click:function(e){return e.stopPropagation(),t.expand_song(s)}}},[t._v(t._s(t.is_expanded[s]?"...收起":"详细..."))])]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.is_expanded[s],expression:"is_expanded[idx]"}],staticClass:"song-list-item-details"},[n("div",{staticClass:"song-full-details-language"},[t._v("语言: "+t._s(e.language))]),n("div",{directives:[{name:"show",rawName:"v-show",value:""!==e.orginal_artist,expression:"song.orginal_artist!==''"}],staticClass:"song-full-details-orginal"},[t._v("原唱: "+t._s(e.orginal_artist))]),n("div",{directives:[{name:"show",rawName:"v-show",value:!1!==e.ref,expression:"song.ref!==false"}],staticClass:"song-full-details-ref"},[t._v(" 参考的路灯man: "),n("a",{attrs:{href:"https://space.bilibili.com/"+e.ref.uid,target:"_blank",rel:"noreferrer noopener"}},[t._v(" @"+t._s(e.ref.name)+" ")])]),n("div",{staticClass:"song-full-details-record"},[n("span",[t._v("录播：")]),n("a",{attrs:{href:"https://www.bilibili.com/video/"+e.record.bv+"?p="+e.record.p+"&start_progress="+e.record_start_ms,target:"_blank",rel:"noreferrer noopener"}},[t._v(" "+t._s(e.date)+" p"+t._s(e.record.p)+" "+t._s(e.record.timecode)+" ")])]),n("div",{directives:[{name:"show",rawName:"v-show",value:""!==e.note,expression:"song.note!==''"}],staticClass:"song-full-details-note"},[t._v("切歌man的留言: "+t._s(e.note))]),n("div",{directives:[{name:"show",rawName:"v-show",value:!1!==e.ref_cut,expression:"song.ref_cut!==false"}],staticClass:"song-full-details-ref-cut"},[t._v(" 音频提供: "),n("a",{attrs:{href:"https://space.bilibili.com/"+e.ref_cut.uid,target:"_blank",rel:"noreferrer noopener"}},[t._v(" @"+t._s(e.ref_cut.name)+" ")])])])])})),n("div",{directives:[{name:"show",rawName:"v-show",value:0===t.song_list.length,expression:"song_list.length === 0"}],staticClass:"song-list-no-item"},[t._v("无结果...")])],2),n("song-list-pagination",{attrs:{page:t.page,per_page:t.per_page,total:t.song_list_filtered.length},on:{"update:page":[function(e){t.page=e},t.page_change_event],"update:per_page":function(e){t.per_page=e}}})],1)}),l=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"all-column-info"},[n("div",{staticClass:"header-column header-column-name all-column all-column-name"},[n("span",{staticClass:"header-column-name-wide"},[t._v("歌名")]),n("span",{staticClass:"header-column-name-narrow"},[t._v("歌曲信息")])]),n("div",{staticClass:"header-column header-column-artist all-column all-column-artist"},[t._v("演唱者")]),n("div",{staticClass:"header-column header-column-status all-column all-column-status"},[t._v("演唱状态")]),n("div",{staticClass:"header-column header-column-date all-column all-column-date"},[t._v("演唱日期")]),n("div",{staticClass:"header-column header-column-duration all-column all-column-duration"},[t._v("时长")])])}],c=(n("fb6a"),n("a434"),n("4de4"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"c-outer card"},[s("div",{staticClass:"title"},[t._v("歌单")]),s("div",{staticClass:"c-song-collection"},t._l(t.song_collection,(function(e){return s("div",{key:e.name,staticClass:"collection-item",on:{click:function(n){return t.replace_collection(e.list)}}},[s("img",{attrs:{src:n("922b4")}}),s("div",[t._v(t._s(e.name))])])})),0),s("hr"),s("div",{staticClass:"title title-filter"},[s("div",[t._v("筛选")]),s("div",{staticClass:"title-filter-expand",on:{click:function(e){t.show_filter=!t.show_filter}}},[t._v(t._s(t.show_filter?"...收起":"展开..."))])]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.show_filter,expression:"show_filter"}],staticClass:"c-filter"},[t._l(t.filters,(function(e){return s("div",{key:e.name,staticClass:"filter-item"},[s("div",{staticClass:"filter-item-label"},[t._v(t._s(e.text)+":")]),s("select",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"filter_item.value"}],staticClass:"general-input",on:{change:[function(n){var s=Array.prototype.filter.call(n.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(e,"value",n.target.multiple?s:s[0])},t.filter_change_event]}},t._l(e.options,(function(e){return s("option",{key:e,domProps:{value:e}},[t._v(t._s(e))])})),0)])})),s("div",{staticClass:"filter-item"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.use_treated.value,expression:"use_treated.value"}],staticClass:"general-checkbox",attrs:{id:"filter-checkbox-treated",type:"checkbox"},domProps:{checked:Array.isArray(t.use_treated.value)?t._i(t.use_treated.value,null)>-1:t.use_treated.value},on:{change:[function(e){var n=t.use_treated.value,s=e.target,i=!!s.checked;if(Array.isArray(n)){var a=null,o=t._i(n,a);s.checked?o<0&&t.$set(t.use_treated,"value",n.concat([a])):o>-1&&t.$set(t.use_treated,"value",n.slice(0,o).concat(n.slice(o+1)))}else t.$set(t.use_treated,"value",i)},t.change_use_treated]}}),s("label",{staticClass:"filter-item-label filter-item-treated",attrs:{for:"filter-checkbox-treated"}},[t._v("听经过处理的歌")]),s("div",{staticClass:"filter-item-question",on:{click:function(e){t.show_explain=!0}}})])],2),s("div",{staticClass:"filter-song-search"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.search.type,expression:"search.type"}],staticClass:"general-input filter-song-search-select",on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.search,"type",e.target.multiple?n:n[0])}}},t._l(t.search.options,(function(e){return s("option",{key:e,domProps:{value:e}},[t._v(t._s(e))])})),0),s("input",{directives:[{name:"model",rawName:"v-model",value:t.search.text,expression:"search.text"}],staticClass:"general-input filter-song-search-input",domProps:{value:t.search.text},on:{keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search_press_enter.apply(null,arguments)},function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"space",32,e.key,[" ","Spacebar"]))return null;e.stopPropagation()}],input:function(e){e.target.composing||t.$set(t.search,"text",e.target.value)}}}),s("button",{staticClass:"general-button filter-song-search-go filter-song-search-button",on:{click:function(e){return t.apply_search(!1)}}},[t._v("搜索!")]),s("button",{staticClass:"general-button filter-song-search-clear filter-song-search-button",on:{click:function(e){return t.apply_search(!0)}}},[t._v("清空")])]),t.show_explain?s("pop-up-explain-treated",{on:{closepopup:function(e){t.show_explain=!1}}}):t._e()],1)}),u=[],p=n("b85c"),_=(n("b0c0"),n("ac1f"),n("1276"),n("841c"),n("498a"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("pop-up-main",{attrs:{title:"经处理的歌"},on:{closepopup:function(e){return t.$emit("closepopup")}}},[n("div",{staticClass:"content"})])}),d=[],g=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"background",on:{mousedown:function(e){return e.target!==e.currentTarget?null:t.$emit("closepopup")}}},[n("div",{staticClass:"card c-popup"},[n("div",{staticClass:"popup-title"},[n("div",[t._v(t._s(t.title))]),n("div",{staticClass:"popup-close",on:{click:function(e){return e.stopPropagation(),t.$emit("closepopup")}}},[n("div",{staticClass:"popup-close-img"})])]),n("hr"),n("div",{staticClass:"popup-content"},[t._t("default")],2)])])},v=[],h={name:"PopUpMain",data:function(){return{}},props:["title"]},m=h,f=(n("4fa0"),n("2877")),y=Object(f["a"])(m,g,v,!1,null,"0d5978c7",null),w=y.exports,b={name:"PopUpExplainTreated",components:{PopUpMain:w}},C=b,x=Object(f["a"])(C,_,d,!1,null,"4d0d21c0",null),k=x.exports,S=(n("e9c4"),n("a15b"),n("25f0"),{name:"--",artist:"--",status:"--",duration:"00:00",date:"--",id:"empty_song",src:""});function O(t){localStorage.setItem("love_list",JSON.stringify(t))}function I(){return localStorage.getItem("love_list")||localStorage.setItem("love_list","[]"),JSON.parse(localStorage.getItem("love_list"))}function $(t,e){localStorage.setItem("current_playlist",JSON.stringify({current_song:t,song_id_list:e.map((function(t){return t.id})).filter((function(t){return"empty_song"!==t}))}))}function B(){localStorage.getItem("current_playlist")||localStorage.setItem("current_playlist",JSON.stringify({current_song:0,song_id_list:[]}));var t=JSON.parse(localStorage.getItem("current_playlist")),e=t.song_id_list.map((function(t){return window.meumy.song_list.find((function(e){return e.id===t}))}));return 0===e.length&&e.push(S),{current_song:t.current_song,song_list:e}}var j={use_treated:!1,play_mode:"loop"};function P(t){var e=Object.assign(M(),t);localStorage.setItem("settings",JSON.stringify(e))}function M(){localStorage.getItem("settings")||localStorage.setItem("settings",JSON.stringify(j));var t=JSON.parse(localStorage.getItem("settings"));return Object.assign(j,t),j}var N="ILovEMeUmyhOc0nWsJzCVau4BYGAtSH2XpZPld1b657F3xNi98wRKDQkTrgjqf",E="musong://";function T(){return E+window.meumy.playlist.map((function(t){var e=parseInt(t.id.substring(1)),n=N.length,s="";while(0!==e||s.length<3)s+=N.substring(e%n,e%n+1),e=Math.floor(e/n);return s})).filter((function(t){return"empty_song"!==t})).join("")}function L(t){if(t.substring(0,9)!==E)return!1;var e=t.substring(9);if(e.length%3!==0||0===e.length)return!1;var n=[];while(e.length>0){var s=e.substring(0,3).split("").reverse();e=e.substring(3);var i=0;while(s.length>0){if(i*=N.length,i+=N.search(s[0]),-1===i)return!1;s=s.slice(1)}var a=i.toString();while(a.length<5)a="0"+a;n.push("U"+a)}var o=window.meumy.song_list.filter((function(t){return-1!==n.findIndex((function(e){return e===t.id}))}));return o.length===n.length&&o}function U(){var t="20220101";return localStorage.getItem("browse_flag")?localStorage.getItem("browse_flag")!==t&&(localStorage.setItem("browse_flag",t),!0):(localStorage.setItem("browse_flag",t),!0)}function A(t){for(var e=0,n=0;n<t.length;n++)e+=t.charCodeAt(n);return e}function R(t){window.meumy.debug_list.push(t)}var D={empty_song:S,save_love_list:O,read_love_list:I,save_playlist:$,read_playlist:B,save_settings:P,read_settings:M,encode_share:T,decode_share:L,if_first_browse:U,str_to_code:A,debug:R},Y={name:"SongFilter",components:{PopUpExplainTreated:k},data:function(){return{song_list_org:window.meumy.song_list,song_collection:window.meumy.song_collection,show_filter:!1,filters:[{name:"artist",text:"演唱者",value:"--",options:window.meumy.filter_options.artist},{name:"status",text:"演唱状态",value:"--",options:window.meumy.filter_options.status},{name:"language",text:"语言",value:"--",options:window.meumy.filter_options.language},{name:"collection",text:"歌单",value:"--",options:window.meumy.filter_options.collection},{name:"star",text:"星标",value:"--",options:window.meumy.filter_options.star},{name:"have_audio",text:"是否有音频",value:"--",options:window.meumy.filter_options.have_audio},{name:"order",text:"排序",value:"时间倒序",options:window.meumy.filter_options.order}],search:{text:"",text_for_search:"",type:"搜索歌名",options:window.meumy.filter_options.search_type},use_treated:window.meumy.use_treated,show_explain:!1}},props:["song_list_filtered"],computed:{self_song_list_filtered:function(){var t,e=this,n=this.song_list_org.slice(),s={},i=Object(p["a"])(this.filters);try{for(i.s();!(t=i.n()).done;){var a=t.value;s[a.name]=a.value}}catch(o){i.e(o)}finally{i.f()}return"--"!==s.collection&&(n=this.song_collection.find((function(t){return t.name===s.collection})).list.slice()),"--"!==s.status&&(n=n.filter((function(t){return t.status===s.status}))),"--"!==s.language&&(n=n.filter((function(t){return t.language===s.language}))),"--"!==s.artist&&(n=n.filter((function(t){var e=t.artist.split(",");return-1!==e.findIndex((function(t){return t===s.artist}))}))),"星标"===s.star?n=n.filter((function(t){return-1!==window.meumy.love_list.findIndex((function(e){return t.id===e}))})):"非星标"===s.star&&(n=n.filter((function(t){return-1===window.meumy.love_list.findIndex((function(e){return t.id===e}))}))),"有音频"===s.have_audio?n=n.filter((function(t){return t.have_audio})):"无音频"===s.have_audio&&(n=n.filter((function(t){return!t.have_audio}))),""!==this.search.text_for_search&&(n="搜索歌名"===this.search.type?n.filter((function(t){return-1!==t.name.toLowerCase().search(e.search.text_for_search.toLowerCase())})):n.filter((function(t){var n=e.search.text_for_search.toLowerCase(),s=s;return s=s||-1!==t.name.toLowerCase().search(n),""!==t.note&&(s=s||-1!==t.note.toLowerCase().search(n)),t.ref&&(s=s||-1!==t.ref.name.toLowerCase().search(n)),t.ref_cut&&(s=s||-1!==t.ref_cut.name.toLowerCase().search(n)),s}))),"时间正序"===s.order&&n.reverse(),n}},methods:{apply_search:function(t){t&&(this.search.text=""),this.search.text_for_search=this.search.text.trim(),this.filter_change_event()},filter_change_event:function(){this.$emit("update:song_list_filtered",this.self_song_list_filtered)},replace_collection:function(t){this.$parent.$parent.$refs.player.playlist_replace(t.filter((function(t){return t.have_audio})))},search_press_enter:function(t){this.apply_search(!1),t.target.blur()},change_use_treated:function(){D.save_settings({use_treated:this.use_treated.value})}}},J=Y,H=(n("8d74"),Object(f["a"])(J,c,u,!1,null,"4eea65e3",null)),W=H.exports,q=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"c-pagination"},[n("div",{staticClass:"pagination-item pagination-total"},[t._v(" "+t._s((t.n_page-1)*t.n_per_page+1)+"-"+t._s(Math.min(t.n_page*t.n_per_page,t.total))+" 共"+t._s(t.total)+"首 ")]),n("div",{staticClass:"pagination-item pagination-per-page-label"},[t._v("每页数量:")]),n("select",{directives:[{name:"model",rawName:"v-model",value:t.n_per_page,expression:"n_per_page"}],staticClass:"pagination-item pagination-per-page-select",on:{change:[function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.n_per_page=e.target.multiple?n:n[0]},t.change_per_page]}},t._l(t.per_page_option,(function(e){return n("option",{key:e.text,domProps:{value:e.value}},[t._v(t._s(e.text))])})),0),n("div",{staticClass:"pagination-item c-pagination-go"},[n("div",{staticClass:"pagination-go-first pagination-go-button",on:{click:function(e){return t.change_page(1)}}},[n("div")]),n("div",{staticClass:"pagination-go-left pagination-go-button",on:{click:function(e){return t.add_page(-1)}}},[n("div")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.input_page,expression:"input_page"}],staticClass:"pagination-current-page",domProps:{value:t.input_page},on:{change:t.check_page,keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:e.target.blur()},input:function(e){e.target.composing||(t.input_page=e.target.value)}}}),n("div",{staticClass:"pagination-go-right pagination-go-button",on:{click:function(e){return t.add_page(1)}}},[n("div")]),n("div",{staticClass:"pagination-go-last pagination-go-button",on:{click:t.to_last_page}},[n("div")])])])},F=[],V={name:"SongListPagination",data:function(){return{n_page:this.page,n_per_page:this.per_page,per_page_option:[{text:"10",value:10},{text:"20",value:20},{text:"50",value:50},{text:"100",value:100},{text:"全部",value:999999}],input_page:1}},props:["total","page","per_page"],methods:{check_page:function(){var t=parseInt(this.input_page);t>=1&&t<=Math.ceil(this.total/this.n_per_page)?this.change_page(t):this.input_page=this.n_page},add_page:function(t){var e=this.n_page+t;e>=1&&e<=Math.ceil(this.total/this.n_per_page)&&this.change_page(e)},to_last_page:function(){this.change_page(Math.ceil(this.total/this.n_per_page))},change_page:function(t){this.input_page=t,this.n_page=t,this.$emit("update:page",t)},change_per_page:function(){this.change_page(1),this.$emit("update:per_page",this.n_per_page)}},watch:{page:function(){this.input_page=this.page,this.n_page=this.page}}},X=V,z=(n("f301"),Object(f["a"])(X,q,F,!1,null,"5697a7de",null)),G=z.exports,K={name:"MainSongList",components:{SongListPagination:G,SongFilter:W},data:function(){return{love_list:window.meumy.love_list,expand_list:[],page:1,per_page:10,song_list_filtered:window.meumy.song_list,playlist:window.meumy.playlist}},computed:{song_list:function(){return this.song_list_filtered.slice((this.page-1)*this.per_page,this.page*this.per_page)},in_playlist_list:function(){var t=this;return this.song_list.map((function(e){return-1!==t.playlist.findIndex((function(t){return t.id===e.id}))}))},is_loved:function(){var t=this;return this.song_list.map((function(e){return-1!==t.love_list.findIndex((function(t){return e.id===t}))}))},is_expanded:function(){var t=this;return this.song_list.map((function(e){return-1!==t.expand_list.findIndex((function(t){return e.id===t}))}))}},methods:{add_song:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];!1!==this.song_list[t].have_audio&&this.$parent.$refs.player.playlist_add_song(this.song_list[t],e,e)},remove_song:function(t){this.$parent.$refs.player.playlist_remove_song_id(this.song_list[t].id)},love_song:function(t){var e=this.song_list[t];if(this.is_loved[t]){var n=this.love_list.findIndex((function(t){return e.id===t}));this.love_list.splice(n,1)}else this.love_list.push(e.id);D.save_love_list(this.love_list)},expand_song:function(t){var e=this.song_list[t];if(this.is_expanded[t]){var n=this.expand_list.findIndex((function(t){return e.id===t}));this.expand_list.splice(n,1)}else this.expand_list.push(e.id)},all_song_to_playlist:function(){this.song_list_filtered.length>0&&this.$parent.$refs.player.playlist_add_many(this.song_list_filtered.filter((function(t){return t.have_audio})))},expend_all:function(){this.expand_list.length!==this.song_list.length?this.expand_list=this.song_list.map((function(t){return t.id})):this.expand_list=[]},page_change_event:function(){this.check_list=[],this.expand_list=[];var t=this.$refs.header;t.getBoundingClientRect().bottom<0&&t.scrollIntoView()}}},Q=K,Z=(n("8daa"),Object(f["a"])(Q,r,l,!1,null,"37beed47",null)),tt=Z.exports,et=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"player"}},[s("div",{staticClass:"c-player",on:{mousemove:t.player_mouse_event}},[s("div",{staticClass:"c-info"},[s("div",{staticClass:"c-songInfo"},[s("div",{staticClass:"c-songName"},[s("div",{staticClass:"songName"},[t._v(t._s(t.playlist[t.current_song].name))]),s("div",{staticClass:"singer"},[t._v(t._s(t.playlist[t.current_song].artist))])]),s("div",{staticClass:"c-songStatus"},[s("div",{staticClass:"date"},[t._v(t._s(t.playlist[t.current_song].date))]),s("div",{staticClass:"songStatus"},[t._v(t._s(t.playlist[t.current_song].status))])])]),s("div",{staticClass:"c-info-op"},[s("div",{staticClass:"shareButton otherButtons",on:{click:t.toggle_share}},[s("img",{attrs:{src:n("f15f")}})]),s("div",{staticClass:"detailsButton otherButtons",on:{click:t.toggle_details}},[s("img",{attrs:{src:n("a56e")}})])])]),s("div",{staticClass:"c-control"},[s("div",{staticClass:"c-controlButtons"},[s("div",{staticClass:"c-otherButtons"},[s("div",{staticClass:"playModeButton otherButtons",attrs:{title:t.play_mode_text},on:{click:t.switch_play_mode}},[s("img",{directives:[{name:"show",rawName:"v-show",value:"loop"==t.play_mode,expression:"play_mode=='loop'"}],attrs:{src:n("1722")}}),s("img",{directives:[{name:"show",rawName:"v-show",value:"loopOnce"==t.play_mode,expression:"play_mode=='loopOnce'"}],attrs:{src:n("a3cf")}}),s("img",{directives:[{name:"show",rawName:"v-show",value:"shuffle"==t.play_mode,expression:"play_mode=='shuffle'"}],attrs:{src:n("77e3")}})]),s("div",[s("div",{staticClass:"volumeButton otherButtons",attrs:{title:"音量"},on:{click:function(e){t.show_volume_bar=!t.show_volume_bar}}},[s("img",{attrs:{src:n("efc2")}})]),s("transition",{attrs:{name:"fade"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.show_volume_bar,expression:"show_volume_bar"}],staticClass:"c-volumeBar"},[s("div",{staticClass:"c-volumeBarRaw",attrs:{id:"c-volumeBarRaw"},on:{mousedown:t.volume_bar_mouse_event,mousemove:t.volume_bar_mouse_event,touchmove:function(e){return e.preventDefault(),t.volume_bar_touch_event.apply(null,arguments)}}},[s("div",{staticClass:"volumeBar-invert",style:t.volume_height})])])])],1)]),s("div",{staticClass:"c-playButtons"},[s("div",{staticClass:"prevButton playButtons",attrs:{title:"上一曲"},on:{click:function(e){return t.next_song(-1)}}},[s("div")]),s("div",{staticClass:"playButton playButtons",attrs:{title:"按下空格播放/暂停"},on:{click:t.audio_toggle_play}},[s("div",{class:[{"playButton-play":!t.play_status},{"playButton-pause":t.play_status},{"playButton-loading":t.audio_loading}]})]),s("div",{staticClass:"nextButton playButtons",attrs:{title:"下一曲"},on:{click:function(e){return t.next_song(1)}}},[s("div")])]),s("div",{staticClass:"c-otherButtons"},[s("div",{staticClass:"loveButton otherButtons",attrs:{title:"设为星标歌曲"},on:{click:t.toggle_loved}},[s("img",{directives:[{name:"show",rawName:"v-show",value:!t.is_loved,expression:"!is_loved"}],attrs:{src:n("6ca3")}}),s("img",{directives:[{name:"show",rawName:"v-show",value:t.is_loved,expression:"is_loved"}],attrs:{src:n("0114")}})]),s("div",{staticClass:"playlistButton otherButtons",attrs:{title:"播放列表"},on:{click:function(e){t.show_playlist=!t.show_playlist}}},[s("div",{staticClass:"playlistButton-img"}),s("div",{staticClass:"playlistButton-corner"},[t._v(t._s(t.playlist_length))])])])]),s("div",{staticClass:"c-progressBarText"},[s("div",{staticClass:"currentTime"},[t._v(t._s(t.second_to_text(t.play_progress*t.duration)))]),s("div",{staticClass:"c-progressBar"},[s("div",{staticClass:"progressBar-button",style:t.progress_bar_button_left,on:{mousedown:t.progress_bar_button_mouse_event,touchmove:function(e){return e.preventDefault(),t.progress_bar_touch_event.apply(null,arguments)}}}),s("div",{staticClass:"c-progressBarRaw",attrs:{id:"c-progressBarRaw"},on:{mousedown:t.progress_bar_mouse_event,touchmove:function(e){return e.preventDefault(),t.progress_bar_touch_event.apply(null,arguments)}}},[s("div",{staticClass:"progressBar-fill",style:t.progress_bar_fill_width}),s("div",{staticClass:"progressBar-loading",style:t.progress_bar_loading_width})])]),s("div",{staticClass:"duration"},[t._v(t._s(t.second_to_text(t.duration)))])])])]),s("transition",{attrs:{name:"fade"},on:{enter:t.playlist_scroll}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.show_playlist,expression:"show_playlist"}],staticClass:"c-playlist"},[s("div",{staticClass:"c-playlist-title"},[s("div",{staticClass:"playlist-clearAll"},[s("span",{on:{click:t.playlist_clear}},[t._v("清空")])]),s("div",{staticClass:"playlist-title"},[t._v(" 播放列表 ")]),s("div",{staticClass:"playlist-close"},[s("span",{on:{click:function(e){t.show_playlist=!1}}},[t._v("收起")])])]),s("div",{ref:"playlist",staticClass:"c-playlist-songList"},[t._l(t.playlist_without_empty,(function(e,n){return s("div",{key:e.id,class:["c-playlist-song",{"c-playlist-playing":e.id===t.playlist[t.current_song].id}],on:{click:function(e){return t.change_song(n)}}},[s("div",{staticClass:"playlist-name"},[s("span",{staticClass:"playlist-index"},[t._v(t._s(n+1)+". ")]),t._v(t._s(e.name))]),s("div",{staticClass:"playlist-dash"},[t._v("-")]),s("div",{staticClass:"playlist-artist"},[t._v(t._s(e.artist))]),s("div",{staticClass:"playlist-status"},[t._v(t._s(e.status))]),s("div",{staticClass:"playlist-duration"},[t._v(t._s(e.duration))]),s("div",{staticClass:"playlist-clear",on:{click:function(e){return e.stopPropagation(),t.playlist_remove_song(n)}}},[s("div",{staticClass:"playlist-clear-img"})])])})),s("div",{directives:[{name:"show",rawName:"v-show",value:"empty_song"===t.playlist[0].id,expression:"playlist[0].id === 'empty_song'"}],staticClass:"playlist-empty"},[t._v(" 播放列表为空 ")])],2)])]),t.show_share?s("pop-up-share",{attrs:{song:t.playlist[t.current_song]},on:{closepopup:function(e){t.show_share=!1}}}):t._e(),t.show_details?s("pop-up-details",{attrs:{song:t.playlist[t.current_song]},on:{closepopup:function(e){t.show_details=!1}}}):t._e(),t._m(0)],1)},nt=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("audio",{attrs:{id:"meumy_player"}},[n("source",{attrs:{id:"meumy_player_source",src:"",type:"audio/mpeg"}})])}],st=(n("99af"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("pop-up-main",{attrs:{title:"分享歌曲"},on:{closepopup:function(e){return t.$emit("closepopup")}}},[n("div",[n("div",{staticClass:"c-share-body"},[n("div",{staticClass:"c-share-title"},[n("div",{staticClass:"share-title"},[t._v("复制链接分享当前歌曲")]),n("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.song_popper,expression:"song_popper"}],staticClass:"copy-button",attrs:{slot:"reference"},on:{click:function(e){return t.copy("https://music.qianjiu.eu.org/?s="+t.song.id,t.song_popper)}},slot:"reference"},[t._v("复制到剪切板")])]),n("div",[n("a",{attrs:{href:"https://music.qianjiu.eu.org/?s="+t.song.id}},[t._v("http://music.qianjiu.eu.org/?s="+t._s(t.song.id))])])]),n("hr"),n("hr"),n("div",{staticClass:"c-share-body"},[n("div",{staticClass:"c-share-title"},[n("div",{staticClass:"share-title"},[t._v("下载当前歌曲")]),n("a",{attrs:{href:t.song.src,download:""}},[t._v("点击下载")])])])])])}),it=[],at={name:"PopUpShare",components:{PopUpMain:w},data:function(){return{song_popper:{content:"已成功复制到剪切板",showTriggers:["click"],hideTriggers:["hover"]},songlist_popper:{content:"已成功复制到剪切板",showTriggers:["click"],hideTriggers:["hover"]}}},props:["song"],computed:{playlist_id:function(){return D.encode_share()}},methods:{copy:function(t,e){navigator.clipboard?navigator.clipboard.writeText(t).then((function(){e.content="已成功复制到剪切板"}),(function(){e.content="无剪切板权限，请手动复制"})):e.content="你的浏览器尚不支持，请手动复制"}}},ot=at,rt=(n("2b8d"),Object(f["a"])(ot,st,it,!1,null,"eaa03702",null)),lt=rt.exports,ct=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("pop-up-main",{attrs:{title:"歌曲详情"},on:{closepopup:function(e){return t.$emit("closepopup")}}},[n("div",{staticClass:"content"},[n("p",[n("span",[t._v("歌名：")]),t._v(t._s(t.song.name))]),n("p",[n("span",[t._v("演唱者：")]),t._v(t._s(t.song.artist))]),n("p",[n("span",[t._v("演唱状态：")]),t._v(t._s(t.song.status))]),""!==t.song.orginal_artist?n("p",[n("span",[t._v("原唱：")]),t._v(t._s(t.song.orginal_artist))]):t._e(),n("p",[n("span",[t._v("留言：")]),t._v(t._s(t.song.note))]),n("span",[t._v("时间点：")]),t._v(t._s(t.song.record.timecode)+" ")])])},ut=[],pt={name:"PopUpDetails",components:{PopUpMain:w},data:function(){return{}},props:["song"]},_t=pt,dt=(n("4851"),Object(f["a"])(_t,ct,ut,!1,null,"d087f40a",null)),gt=dt.exports,vt={},ht={},mt=!1;window.addEventListener("mouseup",(function(){!0===mt&&(mt=!1)}));var ft,yt,wt={name:"AudioPlayer",components:{PopUpShare:lt,PopUpDetails:gt},data:function(){return{show_playlist:!1,show_volume_bar:!1,show_share:!1,show_details:!1,play_mode:"loop",play_status:!1,audio_loading:!1,auto_play:!1,volume:.9,play_progress:0,load_progress:0,duration:0,playlist:window.meumy.playlist,love_list:window.meumy.love_list,current_song:0}},methods:{second_to_text:function(t){t=Math.floor(t);var e=String(t%60);1===e.length&&(e="0"+e);var n=String(Math.floor(t/60));return 1===n.length&&(n="0"+n),"".concat(n,":").concat(e)},switch_play_mode:function(){"loop"===this.play_mode?this.play_mode="loopOnce":"loopOnce"===this.play_mode?this.play_mode="shuffle":"shuffle"===this.play_mode&&(this.play_mode="loop"),D.save_settings({play_mode:this.play_mode})},volume_bar_mouse_event:function(t){if(0!==t.buttons){var e=document.getElementById("c-volumeBarRaw"),n=(t.clientY-e.getBoundingClientRect().top)/e.clientHeight;this.set_volume(1-n)}},volume_bar_touch_event:function(t){var e=document.getElementById("c-volumeBarRaw"),n=(t.targetTouches[0].clientY-e.getBoundingClientRect().top)/e.clientHeight;this.set_volume(1-n)},progress_bar_mouse_event:function(t){var e=document.getElementById("c-progressBarRaw"),n=(t.clientX-e.getBoundingClientRect().left)/e.clientWidth;this.set_play_progress(Math.max(Math.min(n,1),0))},progress_bar_touch_event:function(t){var e=document.getElementById("c-progressBarRaw"),n=(t.targetTouches[0].clientX-e.getBoundingClientRect().left)/e.clientWidth;this.set_play_progress(Math.max(Math.min(n,1),0))},progress_bar_button_mouse_event:function(t){t.stopPropagation(),mt=!0},toggle_share:function(){"empty_song"!==this.playlist[this.current_song].id&&(this.show_share=!this.show_share)},toggle_details:function(){"empty_song"!==this.playlist[this.current_song].id&&(this.show_details=!this.show_details)},apply_song:function(){if(this.audio_loading=!1,"empty_song"===this.playlist[this.current_song].id)return!1;var t=this.playlist[this.current_song].src;if(window.meumy.use_treated.value){var e=this.playlist[this.current_song].second_src;""!==e&&(t=e)}ht.src=t,vt.load(),this.show_playlist&&this.playlist_scroll(),"mediaSession"in navigator&&(navigator.mediaSession.metadata=new window.MediaMetadata({title:this.playlist[this.current_song].name,artist:this.playlist[this.current_song].artist,album:"",artwork:[{src:n("cf05")}]})),vt.title=this.playlist[this.current_song].name,D.save_playlist(this.current_song,this.playlist)},audio_toggle_play:function(){"empty_song"!==this.playlist[0].id&&(this.play_status=!vt.paused,this.play_status?vt.pause():vt.play())},audio_pause:function(){this.play_status=!vt.paused,this.play_status&&vt.pause()},next_song:function(t){if("empty_song"!==this.playlist[0].id){if(this.auto_play=this.play_status,1===this.playlist.length)return vt.currentTime=0,void vt.play();"loop"===this.play_mode||"loopOnce"===this.play_mode?(this.current_song+=t,this.current_song<0&&(this.current_song+=this.playlist.length),this.current_song%=this.playlist.length):"shuffle"===this.play_mode&&(this.current_song=this.random_song()),this.apply_song()}},change_song:function(t){this.auto_play=!0,this.current_song=t,this.apply_song()},player_mouse_event:function(t){mt&&this.progress_bar_mouse_event(t)},set_play_progress:function(t){vt.currentTime=Math.max(t*vt.duration-.05,0),this.play_progress=t},set_volume:function(t){t=Math.min(1,Math.max(0,t)),vt.volume=t,this.volume=t},random_song:function(){var t;do{t=Math.floor(Math.random()*this.playlist.length)}while(t===this.current_song);return t},toggle_loved:function(){if("empty_song"!==this.playlist[0].id){var t=this.playlist[this.current_song].id;if(this.is_loved){var e=this.love_list.findIndex((function(e){return t===e}));this.love_list.splice(e,1)}else this.love_list.push(this.playlist[this.current_song].id);D.save_love_list(this.love_list)}},playlist_clear:function(){this.playlist.splice(0,this.playlist.length),this.playlist.push(D.empty_song),this.current_song=0,this.play_status=!1,this.play_progress=0,ht.src="",D.save_playlist(this.current_song,this.playlist)},playlist_remove_song:function(t){if(1!==this.playlist.length){t===this.current_song&&(this.current_song+=1,this.current_song%=this.playlist.length,this.auto_play=!1,this.play_status=!1,this.apply_song());var e=this.playlist[this.current_song].id;this.playlist.splice(t,1),this.current_song=this.playlist.findIndex((function(t){return t.id===e})),D.save_playlist(this.current_song,this.playlist)}else this.playlist_clear()},playlist_remove_song_id:function(t){var e=this.playlist.findIndex((function(e){return e.id===t}));-1!==e&&this.playlist_remove_song(e)},playlist_add_song:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=!1;"empty_song"===this.playlist[0].id&&(this.playlist.splice(0,this.playlist.length),s=!0);var i=this.playlist.findIndex((function(e){return e.id===t.id}));-1===i&&(this.playlist.push(t),D.save_playlist(this.current_song,this.playlist),i=this.playlist.length-1),(s||e)&&(this.auto_play=n,this.current_song=i,this.apply_song())},playlist_add_many:function(t){var e=this;if(0===t.length)return!1;var n=!1;"empty_song"===this.playlist[0].id&&(this.playlist.splice(0,this.playlist.length),n=!0);var s,i=!1,a=Object(p["a"])(t);try{var o=function(){var t=s.value;r=e.playlist.findIndex((function(e){return e.id===t.id})),-1===r&&(e.playlist.push(t),i=!0)};for(a.s();!(s=a.n()).done;){var r;o()}}catch(l){a.e(l)}finally{a.f()}return n&&i&&(this.apply_song(),this.auto_play=!1),D.save_playlist(this.current_song,this.playlist),i},playlist_replace:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.playlist.splice(0,this.playlist.length);var n,s=Object(p["a"])(t);try{for(s.s();!(n=s.n()).done;){var i=n.value;this.playlist.push(i)}}catch(a){s.e(a)}finally{s.f()}this.current_song=e,this.auto_play=!1,this.play_status=!1,this.apply_song()},playlist_share:function(){return this.playlist.map((function(t){return t.id}))},playlist_scroll:function(){this.$refs.playlist.children[this.current_song].scrollIntoView({block:"nearest"})}},computed:{playlist_without_empty:function(){return this.playlist.filter((function(t){return"empty_song"!==t.id}))},volume_height:function(){return{height:String(100*(1-this.volume))+"%"}},progress_bar_fill_width:function(){return{width:String(100*this.play_progress)+"%"}},progress_bar_loading_width:function(){return{width:String(100*this.load_progress)+"%"}},progress_bar_button_left:function(){return{left:"calc(".concat(100*this.play_progress,"% - 0.75rem)")}},play_mode_text:function(){return"loop"===this.play_mode?"列表循环":"loopOnce"===this.play_mode?"单曲循环":"随机"},playlist_length:function(){return"empty_song"===this.playlist[0].id?0:this.playlist.length},is_loved:function(){if("empty_song"===this.playlist[0].id)return!1;var t=this.playlist[this.current_song].id;return-1!==this.love_list.findIndex((function(e){return t===e}))}},mounted:function(){var t=this;vt=document.getElementById("meumy_player"),ht=document.getElementById("meumy_player_source"),vt.volume=.9,vt.addEventListener("loadedmetadata",(function(){t.duration=vt.duration,t.play_progress=0})),vt.addEventListener("loadeddata",(function(){t.duration=vt.duration,t.play_progress=0})),vt.addEventListener("canplay",(function(){t.auto_play&&vt.play()})),vt.addEventListener("progress",(function(){vt.duration>0&&vt.buffered.length>0&&(t.load_progress=vt.buffered.end(vt.buffered.length-1)/vt.duration)})),vt.addEventListener("waiting",(function(){return t.audio_loading=!0})),vt.addEventListener("playing",(function(){return t.audio_loading=!1})),vt.addEventListener("timeupdate",(function(){vt.duration?t.play_progress=vt.currentTime/vt.duration:t.play_progress=0})),vt.addEventListener("play",(function(){t.play_status=!0})),vt.addEventListener("pause",(function(){t.play_status=!1})),vt.addEventListener("ended",(function(){if(t.auto_play=!0,1===t.playlist.length||"loopOnce"===t.play_mode)return vt.currentTime=0,void vt.play();"loop"===t.play_mode?(t.current_song+=1,t.current_song%=t.playlist.length):"shuffle"===t.play_mode&&(t.current_song=t.random_song()),t.apply_song()})),"mediaSession"in navigator&&(navigator.mediaSession.setActionHandler("play",(function(){D.debug("通过media session播放"),t.audio_toggle_play()})),navigator.mediaSession.setActionHandler("pause",(function(){D.debug("通过media session暂停"),t.audio_toggle_play()})),navigator.mediaSession.setActionHandler("previoustrack",(function(){D.debug("通过media session上一曲"),t.next_song(-1)})),navigator.mediaSession.setActionHandler("nexttrack",(function(){D.debug("通过media session下一曲"),t.next_song(1)}))),document.addEventListener("keydown",(function(e){"Space"!==e.code||e.isComposing||(t.audio_toggle_play(),e.preventDefault())})),this.apply_song(),window.audio=vt}},bt=wt,Ct=(n("1db7"),Object(f["a"])(bt,et,nt,!1,null,"5345e4bf",null)),xt=Ct.exports,kt=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},St=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"c-title card"},[s("div",{staticClass:"title-info"},[s("h1",[t._v("nay")]),s("div",{staticClass:"title-detail"})]),s("img",{staticClass:"logo-img",attrs:{src:n("9b15")}})])}],Ot={name:"Banner"},It=Ot,$t=(n("3a48"),Object(f["a"])(It,kt,St,!1,null,"246986c2",null)),Bt=$t.exports,jt={name:"ImportSongList",data:function(){return{code:"",import_popper:{content:"?",showTriggers:["click"],hideTriggers:["hover"]}}},methods:{import_code:function(){if(0!==this.code.trim().length){var t=D.decode_share(this.code.trim());t?(this.$parent.$refs.player.playlist_replace(t),this.import_popper.content="导入成功!"):this.import_popper.content="歌单代码错误，请重新复制一下试试~",this.code=""}else this.import_popper.content="?你没粘贴东西"}}},Pt=jt,Mt=(n("bfc6"),Object(f["a"])(Pt,ft,yt,!1,null,"44a0e89b",null)),Nt=Mt.exports,Et=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"c-footer"},[n("p",[n("a",{staticClass:"credit",on:{click:function(e){t.show_credit=!0}}},[t._v("关于本站")])]),t.show_credit?n("pop-up-credit",{on:{closepopup:function(e){t.show_credit=!1}}}):t._e()],1)},Tt=[],Lt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("pop-up-main",{staticClass:"popup-credit",attrs:{title:"关于"},on:{closepopup:function(e){return t.$emit("closepopup")}}},[n("div",{staticClass:"content"},[n("p",[t._v("本项目已开源（ "),n("a",{attrs:{href:"https://github.com/K-bai/csv-based-web-music-player",target:"_blank",rel:"noreferrer noopener"}},[t._v("Github")]),t._v(" ）欢迎Star, Fork！感谢 "),n("a",{attrs:{href:"https://space.bilibili.com/9420577",target:"_blank",rel:"noreferrer noopener"}},[t._v("@特斯拉309")]),t._v(" 的技术支持！ ")])])])},Ut=[],At=n("5530"),Rt=(n("4e82"),{name:"PopUpCredit",data:function(){return{cutter_list:[]}},mounted:function(){var t=this,e=window.meumy.song_list.map((function(t){return t.ref_cut}));e=e.filter((function(t){return!1!==t}));var n,s=Object(p["a"])(e);try{var i=function(){var e=n.value,s=t.cutter_list.findIndex((function(t){return t.uid===e.uid}));-1===s?t.cutter_list.push(Object(At["a"])(Object(At["a"])({},e),{},{count:1})):t.cutter_list[s].count+=1};for(s.s();!(n=s.n()).done;)i()}catch(a){s.e(a)}finally{s.f()}this.cutter_list.sort((function(t,e){return e.count-t.count}))},components:{PopUpMain:w}}),Dt=Rt,Yt=(n("73da"),Object(f["a"])(Dt,Lt,Ut,!1,null,"70213a2e",null)),Jt=Yt.exports,Ht={name:"Footer",components:{PopUpCredit:Jt},data:function(){return{cutter:[],show_credit:!1}},mounted:function(){var t=window.meumy.cutter_list;this.cutter=t[Math.floor(Math.random()*t.length)]}},Wt=Ht,qt=(n("f5a6"),Object(f["a"])(Wt,Et,Tt,!1,null,"0a86949a",null)),Ft=qt.exports,Vt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"c-countdown-outer"},[n("div",{staticClass:"c-countdown"},[t._m(0),n("div",{directives:[{name:"show",rawName:"v-show",value:t.is_counting_down,expression:"is_counting_down"}],staticClass:"general-input countdown-timer"},[t._v(t._s(t.countdown_display))]),n("select",{directives:[{name:"model",rawName:"v-model",value:t.time_option,expression:"time_option"},{name:"show",rawName:"v-show",value:!t.is_counting_down,expression:"!is_counting_down"}],staticClass:"general-input countdown-select",on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.time_option=e.target.multiple?n:n[0]}}},t._l(t.time_options,(function(e){return n("option",{key:e.text,domProps:{value:e.value}},[t._v(t._s(e.text))])})),0),n("input",{directives:[{name:"show",rawName:"v-show",value:"custom"===t.time_option&&!t.is_counting_down,expression:"time_option==='custom' && (!is_counting_down)"},{name:"model",rawName:"v-model",value:t.time_input_value,expression:"time_input_value"}],staticClass:"general-input countdown-input",attrs:{type:"number",min:"0",placeholder:"多少分钟后停止"},domProps:{value:t.time_input_value},on:{input:function(e){e.target.composing||(t.time_input_value=e.target.value)}}}),n("button",{staticClass:"general-button countdown-button",on:{click:t.toggle_start}},[t._v(t._s(t.is_counting_down?"清除":"开始"))])])])},Xt=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"countdown-text"},[n("div",[t._v("定时停止：")])])}],zt={name:"Countdown",data:function(){return{time_options:[{text:"15分钟",value:15},{text:"30分钟",value:30},{text:"60分钟",value:60},{text:"120分钟",value:120},{text:"自定义",value:"custom"}],time_option:15,time_input_value:"",is_counting_down:!1,countdown_time:0,interval_obj:null}},methods:{toggle_start:function(){var t=this;this.is_counting_down?clearInterval(this.interval_obj):("custom"===this.time_option?this.countdown_time=60*parseInt(this.time_input_value):this.countdown_time=60*this.time_option,this.interval_obj=setInterval((function(){t.countdown_time-=1,t.countdown_time<=0&&(clearInterval(t.interval_obj),t.is_counting_down=!1,t.$emit("stop_playing"),t.$parent.$refs.player.audio_pause())}),1e3)),this.is_counting_down=!this.is_counting_down}},computed:{countdown_display:function(){var t=(this.countdown_time%60).toString(),e=Math.floor(this.countdown_time/60).toString();return 1===t.length&&(t="0"+t),1===e.length&&(e="0"+e),e+":"+t}}},Gt=zt,Kt=(n("d3f5"),Object(f["a"])(Gt,Vt,Xt,!1,null,"01ee70ce",null)),Qt=Kt.exports,Zt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"c-copy-code"},t._l(t.call_list,(function(e,s){return n("div",{key:e.name,staticClass:"copy-item"},[t._v(" "+t._s(e.code)+" "),n("a",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.popper,expression:"up.popper"}],staticClass:"copy-button",on:{click:function(e){return t.copy(s)}}})])})),0)},te=[],ee={name:"CopyCallCode",data:function(){return{call_list:[{name:"umy",code:"",popper:{content:"?",showTriggers:["click"],hideTriggers:["hover"]}},{name:"merry",code:"",popper:{content:"?",showTriggers:["click"],hideTriggers:["hover"]}},{name:"meumy",code:"",popper:{content:"?",showTriggers:["click"],hideTriggers:["hover"]}}]}},methods:{copy:function(t){var e=this;navigator.clipboard?navigator.clipboard.writeText(this.call_list[t].code).then((function(){e.call_list[t].popper.content="已成功复制到剪切板"}),(function(){this.call_list[t].popper.content="无剪切板权限，请手动复制"})):this.call_list[t].popper.content="你的浏览器尚不支持，请手动复制"}}},ne=ee,se=(n("300c"),Object(f["a"])(ne,Zt,te,!1,null,"7998e8ff",null)),ie=se.exports,ae=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("pop-up-main",{attrs:{title:"欢迎！"},on:{closepopup:function(e){return t.$emit("closepopup")}}},[n("div",{staticClass:"content"},[n("p",[t._v("nay")]),n("p",[t._v("快乐听歌鸭！~")])])])},oe=[],re={name:"PopUpInfo",components:{PopUpMain:w},data:function(){return{cutter:window.meumy.cutter_list}}},le=re,ce=(n("540a"),Object(f["a"])(le,ae,oe,!1,null,"e0208202",null)),ue=ce.exports,pe=n("2909"),_e=(n("6062"),n("466d"),n("3fba")),de=n("5a0c"),ge=n.n(de),ve=n("1861"),he=n.n(ve),me=5;function fe(t){return fetch(t,{cache:"no-cache",headers:{"Content-Type":"text/csv"}}).then((function(t){return t.ok?t.text():Promise.reject("Wrong.")}))}function ye(){var t=["/static/song database.csv","/static/playlist database.csv"],e=t.map((function(t){return fe(t)}));return Promise.all(e).then((function(t){we(t[0]),Oe(t[1]),he.a.get_all()}))}function we(t){var e,n,s,i,a=Object(_e["a"])(t,{columns:!0});window.meumy.song_list.splice(0,window.meumy.song_list.length);var o,r=Object(p["a"])(a);try{for(r.s();!(o=r.n()).done;){var l=o.value;window.meumy.song_list.push(be(l))}}catch(m){r.e(m)}finally{r.f()}window.meumy.song_list.sort((function(t,e){var n=ge()(e.date,"YYYY-MM-DD"),s=ge()(t.date,"YYYY-MM-DD");return n.isBefore(s)?-1:s.isBefore(n)?1:t.record.bv!==e.record.bv?D.str_to_code(e.record.bv)-D.str_to_code(t.record.bv):t.record.p!==e.record.p?e.record.p-t.record.p:e.record_start_ms-t.record_start_ms})),window.meumy.filter_options.status.push("--"),(e=window.meumy.filter_options.status).push.apply(e,Object(pe["a"])(new Set(window.meumy.song_list.map((function(t){return t.status}))))),window.meumy.filter_options.language.push("--"),(n=window.meumy.filter_options.language).push.apply(n,Object(pe["a"])(new Set(window.meumy.song_list.map((function(t){return t.language})))));var c,u=new Set(["--"]),_=Object(p["a"])(window.meumy.song_list);try{for(_.s();!(c=_.n()).done;){var d,g=c.value,v=Object(p["a"])(g.artist.split(","));try{for(v.s();!(d=v.n()).done;){var h=d.value;u.add(h)}}catch(m){v.e(m)}finally{v.f()}}}catch(m){_.e(m)}finally{_.f()}(s=window.meumy.filter_options.artist).push.apply(s,Object(pe["a"])(u)),window.meumy.filter_options.month.push("--"),(i=window.meumy.filter_options.month).push.apply(i,Object(pe["a"])(new Set(window.meumy.song_list.map((function(t){return t.date.substring(0,7)})))))}function be(t){var e=t["歌名"],n=t["中文歌名"],s=t["日期"],i=xe(t["起始时间点"]),a=t["id"],o={bv:t["录播来源"],p:parseInt(t["录播片段编号"]),timecode:Se(i)};""!==n&&(e="".concat(e,"（").concat(n,"）"));var r=!1;"TRUE"==t["有没有音频"]&&(r=!0);var l="";"TRUE"==t["有没有第二版本"]&&(l="/treated_songs/".concat(a,".mp3"));var c=me-ge()().diff(ge()(s),"day");c>0&&!window.meumy.backdoor&&(r=!1);var u="--:--";if(r){var p=xe(t["结束时间点"]);p&&(u=ke(p-i))}return{date:s,record:o,record_start_ms:i,name:e,orginal_artist:t["原曲艺术家"],artist:t["演唱者"],status:t["演唱状态"],language:t["语言"],note:t["备注"],ref:Ce(t["参考路灯man"]),ref_cut:Ce(t["谁切的"]),duration:u,id:a,src:"/songs/".concat(a,".mp3"),second_src:l,have_audio:r,days_before_available:c}}function Ce(t){var e=t.match(/^(.+)\(UID:(\d+)\)$/);return!!e&&{name:e[1],uid:e[2]}}function xe(t){var e=0,n=t.match(/^(\d{2}):(\d{2}):(\d{2}).(\d{3})$/);return!!n&&(e+=60*parseInt(n[1])*60*1e3,e+=60*parseInt(n[2])*1e3,e+=1e3*parseInt(n[3]),e+=parseInt(n[4]),e)}function ke(t){var e=Math.round(t/1e3),n=e%60,s=n.toString();return n<10&&(s="0"+n.toString()),Math.floor(e/60).toString()+":"+s}function Se(t){var e=Math.round(t/1e3),n=e%60,s=n.toString();n<10&&(s="0"+n.toString());var i=Math.floor(e/60%60).toString(),a=i.toString();i<10&&(a="0"+i.toString());var o=Math.floor(e/3600).toString(),r=o.toString();return o<10&&(r="0"+o.toString()),r+":"+a+":"+s}function Oe(t){for(var e=Object(_e["a"])(t),n=function(t){var n=e.map((function(e){return e[t]})).slice(1).filter((function(t){return""!==t}));window.meumy.song_collection.push({name:e[0][t],list:n.map((function(t){return window.meumy.song_list.find((function(e){return e.id===t}))}))})},s=0;s<e[0].length;s++)n(s)}var Ie=[["29099073","spaceshipppppp"],["14146676","轩雨roriki"],["9898403","泓茶"],["102184050","永远喜欢呜米的铃鹿"],["1847888129","咩啊栗nya"],["3045020","泡泡要抱抱举高高"],["355895788","久秋-蓬"],["173985337","半步灬青莲"],["85774607","呜米嗷嗷嗷"],["277710095","咩栗小姐的萝北"],["4981170","咸鱼诗人阿兰"],["499813226","photoelectricity"],["327389390","崽崽是我的小太阳啊"],["676673098","黑夜office"],["19319616","丶颜艺丶"],["22257026","星斗Star"],["266752689","休止-符"],["82399211","星空有丶蓝"],["434800565","CW狂风"],["5024537","Umy的天谴之子"],["151439304","八月中秋月"],["361729677","史莱姆的频道"],["545133496","枺芙"],["517852301","忘崽牛奶嗷呜"],["282545441","Me-Suwin"],["862706","wizard魔法"],["7391732","咩栗保护协会-凌月"],["37268234","毕加索de猫猫"],["150884484","うみ呜米"],["182568485","不想努力的盒子"]],$e={get_song_data:ye,cutter_list:Ie},Be={name:"App",components:{MainSongList:tt,AudioPlayer:xt,Banner:Bt,ImportSongList:Nt,"v-footer":Ft,Countdown:Qt,CopyCallCode:ie,PopUpInfo:ue},data:function(){return{develop:!1,if_debug:!1,show_info:!1,debug_list:window.meumy.debug_list}},methods:{share:function(){console.log(this.$refs.player.playlist_share())},init:function(){var t=this,e=new URL(window.location.href),n=e.searchParams.get("backdoor");"ILOVEMEUMY"===n&&(window.meumy.backdoor=!0),$e.get_song_data().then((function(){var e=D.read_playlist();t.$refs.player.playlist_replace(e.song_list,e.current_song),t.$refs.player.play_mode=D.read_settings().play_mode;var n=new URL(window.location.href),s=n.searchParams.get("s");if(null!==s&&""!==s){var i=window.meumy.song_list.findIndex((function(t){return t.have_audio&&t.id===s}));-1!==i&&t.$refs.player.playlist_add_song(window.meumy.song_list[i],!0),window.history.replaceState({},"",window.location.pathname)}if(D.if_first_browse()){t.show_info=!0;var a=["W1","U01506","U00113","U01500"],o=a.map((function(t){return window.meumy.song_list.find((function(e){return e.id===t}))}));console.log(o),t.$refs.player.playlist_add_many(o)}})).catch((function(t){return console.log(t)}))}},mounted:function(){this.init()}},je=Be,Pe=(n("034f"),Object(f["a"])(je,a,o,!1,null,null,null)),Me=Pe.exports;s["a"].use(i["a"]);var Ne=D.read_love_list();Ne.length>0&&"U"!==Ne[0].substring(0,1)&&(Ne=[],localStorage.setItem("love_list","[]")),window.meumy={song_list:[],song_collection:[],recording_list:[],playlist:[D.empty_song],love_list:Ne,cutter_list:$e.cutter_list,filter_options:{star:["--","星标","非星标"],have_audio:["--","有音频","无音频"],order:["时间倒序","时间正序"],search_type:["搜索歌名","搜索全部信息"],status:[],language:[],artist:[],month:[],collection:[]},backdoor:!1,use_treated:{value:D.read_settings().use_treated},debug_list:[]},s["a"].config.productionTip=!1,new s["a"]({render:function(t){return t(Me)}}).$mount("#app")},"670f":function(t,e,n){},"73da":function(t,e,n){"use strict";n("31b8")},"85ec":function(t,e,n){},"8d74":function(t,e,n){"use strict";n("670f")},"8daa":function(t,e,n){"use strict";n("4a23")},"9b15":function(t,e,n){t.exports=n.p+"img/logo_dark.3730f0fa.png"},a3cf:function(t,e,n){t.exports=n.p+"img/arrow-repeat-once.9a5c4a13.svg"},a509:function(t,e,n){},a9bc:function(t,e,n){},b8ac:function(t,e,n){},b8b5:function(t,e,n){},b939:function(t,e,n){},bfc6:function(t,e,n){"use strict";n("fd8d")},c24b:function(t,e,n){},c61f:function(t,e,n){},c9d0:function(t,e,n){},cf05:function(t,e,n){t.exports=n.p+"img/logo.5ae09413.png"},d3f5:function(t,e,n){"use strict";n("a509")},f301:function(t,e,n){"use strict";n("b8ac")},f5a6:function(t,e,n){"use strict";n("16b0")},fd8d:function(t,e,n){}});
//# sourceMappingURL=app.8f81f216.js.map